<?php

use Krystal\Form\Element;

?>

<?php foreach ($checklist as $category): ?>
<div class="form-group">
  <label class="col-lg-2 control-label"><? $this->show($category['name']); ?> <small class="text-muted">(<?= $category['item_count']; ?>)</small></label>
  <div class="col-lg-10">
    <?php foreach ($category['items'] as $item): ?>
    <div class="radio">
      <label class="facility-radio">
        <?= Element::checkbox(sprintf('facility[checked][%s]', $item['id']), (bool) $item['checked'], array(), false); ?>
        <? $this->show($item['name']); ?>
      </label>

      <?php if (!$item['always_free']): ?>
      <span class="facility-container <?= $item['checked'] ? null : 'hidden'; ?>">
        <?= Element::select(sprintf('facility[type][%s]', $item['id']), $this->translateArray($types), $item['type'], ['class' => 'form-control']); ?>
      </span>
      <?php endif; ?>
    </div>
    <?php endforeach; ?>
  </div>
</div>
<?php endforeach; ?>